<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="mapper.payment">
	<resultMap id="paymentResult" type="PayVO">
	    <result property="payment_id" column="payment_id"/>
	    <result property="order_num" column="order_num"/>
	    <result property="pay_method" column="pay_method"/>
	    <result property="card_com_name" column="card_com_name"/>
	    <result property="card_pay_month" column="card_pay_month"/>
	    <result property="pay_order_tel" column="pay_order_tel"/>
	    <result property="payment_amount" column="payment_amount"/>
	    <result property="payment_status" column="payment_status"/>
	    <result property="pg_tid" column="pg_tid"/>
	    <result property="payment_time" column="payment_time"/>
	</resultMap>

	<insert id="insertNewPayment" parameterType="PayVO" useGeneratedKeys="true" keyProperty="payment_id">
	    <![CDATA[
	        insert into payment(
	            order_num, pay_method, card_com_name, card_pay_month, pay_order_tel, 
	            payment_amount, payment_status, pg_tid, payment_time
	        ) values (
	            #{order_num}, #{pay_method}, #{card_com_name}, #{card_pay_month}, 
	            #{pay_order_tel}, #{payment_amount}, #{payment_status}, #{pg_tid}, NOW()
	        )
	    ]]>
	</insert>
</mapper>
